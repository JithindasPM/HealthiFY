{% extends "profile_update.html" %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

<style>
    /* block1  */
    .block1 {
        background-size: cover;
        background-position: center;
        padding: 40px 0;
    }

    .block1_content {
        background-color: white;
        border-radius: 7px;
        padding: 25px;
        box-shadow: 4px 0px 5px rgb(197, 196, 196);
        margin: 20px 0;
    }

    .block1_heading {
        font-size: 30px;
        color: #008efb;
        font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
        text-align: center;
        margin-bottom: 25px;
        cursor: pointer;
    }

    .form {
        font-family: Georgia, 'Times New Roman', Times, serif;
    }

    .form label {
        font-weight: bold;
        font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
        margin-bottom: 5px;
    }

    .form input, .form select {
        width: 100%;
        padding: 8px;
        margin-bottom: 15px;
        border: 1px solid #ddd;
        border-radius: 4px;
    }

    .block1_btn_div {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin-top: 25px;
    }

    .block1_btns {
        padding: 8px 25px;
        border: 2px solid #008efb;
        border-radius: 5px;
        background-color: white;
        color: #008efb;
        font-weight: bold;
        font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
        transition: all 0.3s ease;
        box-shadow: 0 4px 8px rgba(0, 142, 251, 0.1);
    }

    .block1_btns:hover {
        background-color: #008efb;
        color: white;
        transform: translateY(-2px);
    }

    /* block2  */
    .block2 {
        padding: 40px 0;
    }

    .block2_table {
        text-align: center;
        background-color: white;
        border-radius: 7px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        margin-bottom: 40px;
    }

    .block2_table th {
        background-color: #008efb;
        color: white;
        padding: 15px;
        font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
    }

    .block2_table td {
        padding: 12px;
        font-family: Arial, sans-serif;
        vertical-align: middle;
    }

    .block2_table tr:hover {
        background-color: #f8f9fa;
    }

    .action-icon {
        font-size: 18px;
        transition: all 0.3s ease;
    }

    .action-icon:hover {
        transform: scale(1.2);
    }

    .bi-gear:hover {
        color: #008efb !important;
    }

    .bi-trash:hover {
        color: #dc3545 !important;
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
        .block1_btn_div {
            flex-direction: column;
            align-items: center;
        }

        .block1_btns {
            width: 80%;
            margin: 5px 0;
        }

        .block2_table {
            font-size: 14px;
        }
    }
</style>

<body>
    <!-- block1  -->
    <div class="container block1">
        <div class="block1_content">
            <h1 class="block1_heading">Daily Food</h1>
            <form class="form" method="post">
                {% csrf_token %}
                {{ form.as_p }}
                <div class="block1_btn_div">
                    <button class="block1_btns btn" type="submit">SAVE</button>
                    <a class="block1_btns btn" href="{% url 'create_foodbyuser' %}">NEW FOOD</a>
                    <a class="block1_btns btn" href="{% url 'food_summary' %}">SUMMARY</a>
                </div>
            </form>
        </div>
    </div>

    <!-- block2 -->
    <div class="container block2">
        <div class="table-responsive">
            <table class="block2_table table">
                <thead>
                    <tr>
                        <th>Food</th>
                        <th>Quantity</th>
                        <th>Calorie</th>
                        <th>Update</th>
                        <th>Delete</th>
                    </tr>
                </thead>
                <tbody>
                    {% for i in datas %}
                    <tr>
                        <td>{{ i.food }}</td>
                        <td>{{ i.quantity }}</td>
                        <td>{{ i.total_calories }}</td>
                        <td>
                            <a href="{% url 'update_food' i.id %}">
                                <i class="bi bi-gear action-icon text-dark"></i>
                            </a>
                        </td>
                        <td>
                            <a href="{% url 'delete_food' i.id %}">
                                <i class="bi bi-trash action-icon text-dark"></i>
                            </a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</body>
</html>
{% endblock content %}